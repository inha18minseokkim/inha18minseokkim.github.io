---
layout: default
---
<article class="post-page">
  <div class="container">
    <header class="post-header">
      <div class="post-meta">
        <time class="post-date" datetime="{{ page.date | date_to_xmlschema }}">
          {{ page.date | date: "%Y. %m. %d" }}
        </time>
        {% if page.tags %}
        <div class="post-tags">
          {% for tag in page.tags %}
          <span class="tag">{{ tag }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>
      <h1 class="post-title">{{ page.title }}</h1>
    </header>

    <div class="post-content">
      {{ content }}
    </div>

    <div class="post-footer">
      <a href="{{ '/' | relative_url }}" class="back-link">← 목록으로</a>
    </div>
  </div>
</article>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const content = document.querySelector('.post-content');
  if (!content) return;

  const children = Array.from(content.children);

  function isImgP(el) {
    return el.tagName === 'P' && el.children.length === 1 && el.children[0].tagName === 'IMG';
  }

  let i = 0;
  while (i < children.length) {
    if (isImgP(children[i])) {
      let j = i + 1;
      while (j < children.length && isImgP(children[j])) j++;

      if (j - i >= 2) {
        const grid = document.createElement('div');
        grid.className = 'image-grid';
        children[i].parentNode.insertBefore(grid, children[i]);
        for (let k = i; k < j; k++) grid.appendChild(children[k]);
      }
      i = j;
    } else {
      i++;
    }
  }
});
</script>
