---
title: "정적 팩토리 메서드"
date: 2023-08-31
tags: [미지정]
---
생성자 대신 static 팩토리 메서드 사용
ex) List.of(), Option.of()

## 장점

이름 가질 수 있음
호출할 때 마다 인스턴스 생성 필요 없음
반환 타입의 하위 타입 객체 반환 가능
최상위 인터페이스에서 상속받는 구현클래스 리턴해주기 가능. 외부적으로 내부 클래스의 타입과 구조를 노출 안시킬 수 있음
여러 하위 클래스가 특정 프레임워크, flow를 타게 할 수 있음(동작 흐름은 동일하게, 세부 내용은 각각 다를 수 있게)
정적 팩터리 메서드를 작성하는 시점에는  반환할 객체의 클래스가 존재하지 않아도 된다

```java
public interface HelloService{
	String hello();
}
public static void main(String[] args){
	//HelloService타입의 구현체들 가져와주는 Native Static Op
	ServiceLoader<HelloService> loader = ServiceLoader.load(HelloService.class);
//구현체를 instantiate 하지 않아도 일단 된다. ServiceLoader로 상위 인터페이스만 갖고옴
	Optional<HelloService> helloServiceOptional = loader.findFirst();
	helloServiceOptional.ifPresent(h -> {
		System.out.println(h.hello());
	});
}
```


## 단점

상속하려면 public, protected 생성해야하므로 정적 팩터리 메서드만 있으면 하위 클래스 못만듬. 따로 인스턴스를 생성해야 하므로 상속구조가 deep해지는 경우 쓸 수 없는 방식
프로그래머가 찾기 어려우므로(이름을 자기멋대로 만들 수 있다. 대체로 of 쓰는듯) 문서 만들어서 알려줘야함