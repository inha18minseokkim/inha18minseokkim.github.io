---
title: "구성종목 거래소 코드 오류(20250304)"
date: 2025-03-04
tags: [미지정]
category:
  - 기타
---

```java
select distinct exma_nm , length(exma_nm)from tb_stk_etf_stck_m order by length(exma_nm);
```


![](attachment:9592cd78-b781-4198-95c6-fc1bedc4b5bb:image.png)

정상케이스(보면 타이완 거래소 이런느낌,KRX,NYSE 이런식으로 들어감)

![](attachment:fd050408-b074-4d38-b981-a48f5db8fbbb:image.png)

거래소코드에 증권식별번호 들어가있음. 상당히 많음


### 원본url&원본 예시

[https://api-v2.deepsearch.com/v1/etfs/441540?api_key=ZGVtb19hcGk6ZGVtb19hcGkx](https://api-v2.deepsearch.com/v1/etfs/441540?api_key=ZGVtb19hcGk6ZGVtb19hcGkx)


```java
{
    "detail": {
        "message": "success",
        "code": "SUCCESS",
        "ok": true
    },
    "data": {
        "name": "HANARO Fn조선해운",
        "country_code": "kr",
        "exchange": "KRX",
        "symbol": "441540",
        "issuer_name": "엔에이치아문디자산운용",
        "category": "주식-업종섹터-업종테마",
        "etf_type": "수익증권형",
        "tax_type": "비과세",
        "replication_type": "실물",
        "active_or_passive": "패시브",
        "fee": 0.45,
        "trace_index_leverage_inverse_type": "일반",
        "trace_index_calulate_institute_name": "FnGuide",
        "trace_index_name": "FnGuide 조선해운지수",
        "listed_date": "2022-09-15T00:00:00Z",
        "listed_shares": 3400000,
        "description": "이 ETF는 국내 주식을 주된 투자대상자산으로 하며, FnGuide 조선해운 지수를 기초지수로 하여 1좌당 순자산가치 변동률을 기초지수와 유사하게 투자신탁재산을 운용함을 목적으로 합니다.\nFnGuide가 산출, 발표하는 FnGuide 조선해운 지수는 유가증권시장 및 코스닥에 상장된 종목 중 FICS Industry 업종 분류 기준 ‘조선’, ‘해상운수’ 업종에 포함된 종목들을 대상으로, 시가총액 및 거래대금을 기준으로 한 필터요건을 거친 후 유동시가총액 가중방식으로 투자 비중을 결정함. ",
        "warning": "이 ETF는 운용실적에 따라 손익이 결정되는 실적배당상품으로 예금자보호법에 따라 보호되지 아니하며, 원본이 보장되지 않습니다. 따라서, 투자원본의 전부 또는 일부 손실 위험이 존재하며 투자금액의 손실내지 감소의 위험은 전적으로 투자자가 부담합니다. 집합투자업자, 판매회사 등 어떠한 당사자도 투자손실에 대하여 책임을 지지 아니합니다.\n이 ETF의 수익률은 보수 또는 비용 등 이 ETF의 순자산가치에 부의 영향을 미치는 다양한 이유로 인하여 기초지수 수익률과 괴리(추적오차)가 발생할 수 있습니다.\n개인투자자는 보유 ETF를 거래소에서 매도하는 방법으로만 현금화가 가능하므로 보유수익증권을 판매회사 또는 지정참가회사에 환매 신청할 수 없으며, 거래소의 거래 상황에 따라 동 ETF의 순자산가치와 거래가격이 다르게 형성될 수 있습니다.\n상품에 대한 자세한 내용은 집합투자업자 인터넷 홈페이지(http://www.nh-amundi.com) 또는 금융감독원 전자공시시스템의 투자설명서를 통해 확인하시기 바랍니다.",
        "etf_holdings": [
            {
                "name": "원화현금",
                "name_ko": null,
                "exchange": "KRD010010001",
                "name_short": null,
                "exchange_code": "KRD010010001",
                "holdings_type": null,
                "holdings_value": null,
                "holdings_shares": null,
                "holdings_weight": 100.0,
                "holding_isin_code": "KRD010010001",
                "holdings_industry": null,
                "holding_company_id": null,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "SamsungHvyInd",
                "name_ko": "삼성중공업",
                "exchange": "KRX",
                "name_short": "삼성중공업",
                "exchange_code": "010140",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "9836",
                "holdings_weight": null,
                "holding_isin_code": "KR7010140002",
                "holdings_industry": [
                    {
                        "name": "미세먼지",
                        "name_ko": "미세먼지",
                        "country_code": "kr"
                    },
                    {
                        "name": "로봇",
                        "name_ko": "로봇",
                        "country_code": "kr"
                    },
                    {
                        "name": "키오스크",
                        "name_ko": "키오스크",
                        "country_code": "kr"
                    },
                    {
                        "name": "사물인터넷",
                        "name_ko": "사물인터넷",
                        "country_code": "kr"
                    },
                    {
                        "name": "웨어러블",
                        "name_ko": "웨어러블",
                        "country_code": "kr"
                    },
                    {
                        "name": "인공지능",
                        "name_ko": "인공지능",
                        "country_code": "kr"
                    },
                    {
                        "name": "자율주행",
                        "name_ko": "자율주행",
                        "country_code": "kr"
                    },
                    {
                        "name": "태양광",
                        "name_ko": "태양광",
                        "country_code": "kr"
                    },
                    {
                        "name": "전기차",
                        "name_ko": "전기차",
                        "country_code": "kr"
                    },
                    {
                        "name": "빅데이터",
                        "name_ko": "빅데이터",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9817,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "PanOcean",
                "name_ko": "팬오션",
                "exchange": "KRX",
                "name_short": "팬오션",
                "exchange_code": "028670",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "6825",
                "holdings_weight": null,
                "holding_isin_code": "KR7028670008",
                "holdings_industry": [
                    {
                        "name": "운송",
                        "name_ko": "운송",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 10311,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "HMM",
                "name_ko": "HMM",
                "exchange": "KRX",
                "name_short": "HMM",
                "exchange_code": "011200",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "5974",
                "holdings_weight": null,
                "holding_isin_code": "KR7011200003",
                "holdings_industry": [
                    {
                        "name": "운송",
                        "name_ko": "운송",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 10312,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "KorLine",
                "name_ko": "대한해운",
                "exchange": "KRX",
                "name_short": "대한해운",
                "exchange_code": "005880",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "4374",
                "holdings_weight": null,
                "holding_isin_code": "KR7005880000",
                "holdings_industry": [
                    {
                        "name": "운송",
                        "name_ko": "운송",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 10315,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "웰바이오텍",
                "name_ko": null,
                "exchange": "010600",
                "name_short": null,
                "exchange_code": "010600",
                "holdings_type": "ST",
                "holdings_value": null,
                "holdings_shares": "2895",
                "holdings_weight": null,
                "holding_isin_code": "KR7010600005",
                "holdings_industry": null,
                "holding_company_id": null,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "Hanwha Ocean",
                "name_ko": "한화오션",
                "exchange": "KRX",
                "name_short": "한화오션",
                "exchange_code": "042660",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "2782",
                "holdings_weight": null,
                "holding_isin_code": "KR7042660001",
                "holdings_industry": [
                    {
                        "name": "로봇",
                        "name_ko": "로봇",
                        "country_code": "kr"
                    },
                    {
                        "name": "스마트팩토리",
                        "name_ko": "스마트팩토리",
                        "country_code": "kr"
                    },
                    {
                        "name": "신재생에너지",
                        "name_ko": "신재생에너지",
                        "country_code": "kr"
                    },
                    {
                        "name": "사물인터넷",
                        "name_ko": "사물인터넷",
                        "country_code": "kr"
                    },
                    {
                        "name": "인공지능",
                        "name_ko": "인공지능",
                        "country_code": "kr"
                    },
                    {
                        "name": "태양광",
                        "name_ko": "태양광",
                        "country_code": "kr"
                    },
                    {
                        "name": "빅데이터",
                        "name_ko": "빅데이터",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9055,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "Hanwha Engine",
                "name_ko": "한화엔진",
                "exchange": "KRX",
                "name_short": "한화엔진",
                "exchange_code": "082740",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "1563",
                "holdings_weight": null,
                "holding_isin_code": "KR7082740002",
                "holdings_industry": [],
                "holding_company_id": 8983,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "OPCO",
                "name_ko": "오리엔탈정공",
                "exchange": "KRX",
                "name_short": "오리엔탈정공",
                "exchange_code": "014940",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "698",
                "holdings_weight": null,
                "holding_isin_code": "KR7014940001",
                "holdings_industry": [],
                "holding_company_id": 9717,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "HD HYUNDAI MIPO",
                "name_ko": "HD현대미포",
                "exchange": "KRX",
                "name_short": "HD현대미포",
                "exchange_code": "010620",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "646",
                "holdings_weight": null,
                "holding_isin_code": "KR7010620003",
                "holdings_industry": [
                    {
                        "name": "미세먼지",
                        "name_ko": "미세먼지",
                        "country_code": "kr"
                    },
                    {
                        "name": "로봇",
                        "name_ko": "로봇",
                        "country_code": "kr"
                    },
                    {
                        "name": "사물인터넷",
                        "name_ko": "사물인터넷",
                        "country_code": "kr"
                    },
                    {
                        "name": "인공지능",
                        "name_ko": "인공지능",
                        "country_code": "kr"
                    },
                    {
                        "name": "태양광",
                        "name_ko": "태양광",
                        "country_code": "kr"
                    },
                    {
                        "name": "빅데이터",
                        "name_ko": "빅데이터",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9846,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "SEJIN HEAVY",
                "name_ko": "세진중공업",
                "exchange": "KRX",
                "name_short": "세진중공업",
                "exchange_code": "075580",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "597",
                "holdings_weight": null,
                "holding_isin_code": "KR7075580001",
                "holdings_industry": [
                    {
                        "name": "스마트팩토리",
                        "name_ko": "스마트팩토리",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9074,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "HDKSOE",
                "name_ko": "HD한국조선해양",
                "exchange": "KRX",
                "name_short": "HD한국조선해양",
                "exchange_code": "009540",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "532",
                "holdings_weight": null,
                "holding_isin_code": "KR7009540006",
                "holdings_industry": [
                    {
                        "name": "지주회사",
                        "name_ko": "지주회사",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9905,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "HD-Hyundai Marine Engine",
                "name_ko": "HD현대마린엔진",
                "exchange": "KRX",
                "name_short": "HD현대마린엔진",
                "exchange_code": "071970",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "500",
                "holdings_weight": null,
                "holding_isin_code": "KR7071970008",
                "holdings_industry": [
                    {
                        "name": "스마트그리드",
                        "name_ko": "스마트그리드",
                        "country_code": "kr"
                    },
                    {
                        "name": "신재생에너지",
                        "name_ko": "신재생에너지",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9223,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "HD HYUNDAI HEAVY INDUSTRIES",
                "name_ko": "HD현대중공업",
                "exchange": "KRX",
                "name_short": "HD현대중공업",
                "exchange_code": "329180",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "461",
                "holdings_weight": null,
                "holding_isin_code": "KR7329180004",
                "holdings_industry": [
                    {
                        "name": "미세먼지",
                        "name_ko": "미세먼지",
                        "country_code": "kr"
                    },
                    {
                        "name": "로봇",
                        "name_ko": "로봇",
                        "country_code": "kr"
                    },
                    {
                        "name": "신재생에너지",
                        "name_ko": "신재생에너지",
                        "country_code": "kr"
                    },
                    {
                        "name": "사물인터넷",
                        "name_ko": "사물인터넷",
                        "country_code": "kr"
                    },
                    {
                        "name": "태양광",
                        "name_ko": "태양광",
                        "country_code": "kr"
                    },
                    {
                        "name": "빅데이터",
                        "name_ko": "빅데이터",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 11008,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
            {
                "name": "STXEngine",
                "name_ko": "STX엔진",
                "exchange": "KRX",
                "name_short": "STX엔진",
                "exchange_code": "077970",
                "holdings_type": "company",
                "holdings_value": null,
                "holdings_shares": "268",
                "holdings_weight": null,
                "holding_isin_code": "KR7077970002",
                "holdings_industry": [
                    {
                        "name": "로봇",
                        "name_ko": "로봇",
                        "country_code": "kr"
                    }
                ],
                "holding_company_id": 9361,
                "holdings_market_cap": null,
                "country_code": "kr"
            }
        ],
        "market_info": {
            "nav": 18246.24,
            "aum": 56563357104.0,
            "trade_volume": 436676,
            "trade_value": 8060976155.0,
            "market_cap": 56528500000.0,
            "yield_1d": -7.04,
            "yield_1w": -2.5127,
            "yield_1m": 1.3337,
            "yield_3m": 2.0711,
            "yield_ytd": 2.0711,
            "yield_1y": 2.0711,
            "flows_1w": -5643979004.0,
            "flows_3m": 13724226894.0,
            "flows_1m": 5893461145.0,
            "flows_1y": -68347149882.0,
            "flows_ytd": 12554907226.0,
            "volume_1w": 1356689,
            "volume_1m": 3782570,
            "update_date": "2025-02-20",
            "dividend": null,
            "dividend_yield_1y": 0.3564573622155196
        }
    }
}
```

느낌상 TRS 같은 장외스왑이 코드로 들어가있는걸로 봐서는 거래소가 없는 경우 그냥 고유식별번호를 거래소에 세팅한 케이스. 
그러면 거래소 코드 기준정보를 주면 KRX,NYSE,TAI 이면 이걸 쓰고 아니면 UNKNWON 으로 설정할텐데, 거래소코드 기준정보가 없으니 식별할 수 없음.

```java
{
                "name": "미국S&P500 TRS(한국투자증권)",
                "name_ko": null,
                "exchange": "KRYZTRSC4N05",
                "name_short": null,
                "exchange_code": "KRYZTRSC4N05",
                "holdings_type": null,
                "holdings_value": null,
                "holdings_shares": "145767495.01",
                "holdings_weight": null,
                "holding_isin_code": "KRYZTRSC4N05",
                "holdings_industry": null,
                "holding_company_id": null,
                "holdings_market_cap": null,
                "country_code": "kr"
            },
```
