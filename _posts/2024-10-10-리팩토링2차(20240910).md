---
title: 리팩토링2차(20240910)
date: 2024-10-10
tags:
  - 케이뱅크
  - 주식서비스
  - 개발
  - 아키텍처
category:
  - 실무경험
---

### 계획

투자홈을 개발하면서 mediation 패턴을 주식 단위업무에 도입하였고, 공모주 메이트 서비스와 비상장주식 알림 서비스와의 강결합을 끊어낼 예정이다.
왜냐하면 예전에 mediation 도입 안 하는 대신(난 하고싶었어) 주식에 단위업무 추가되면 mediation 도입하고 원쿼리 끊기로 약속했음 내가.

[[2024-11-26-mediation 패턴 도입기]]

좀 더 도메인을 분리해

### asis

공모주 서비스
  - 푸시 동의
비상장주식 서비스
  - 관심 비상장주식
  - 푸시 동의
국내주식 서비스
  - 아직은 없지만 관심 상장주식
해외주식 서비스
  - 아직은 없지만 관심 해외주식

### tobe

공모주 서비스
비상장주식 서비스
국내주식 서비스
해외주식 서비스
관심 서비스
푸시 동의 서비스

로 결과적으로 나누고
각 서비스에 덕지덕지 붙어있는 푸시동의 테이블이나 관심 테이블을 다 떼어내자

