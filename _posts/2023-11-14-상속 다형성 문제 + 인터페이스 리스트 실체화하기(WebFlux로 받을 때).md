---
title: "상속 다형성 문제 + 인터페이스 리스트 실체화하기(WebFlux로 받을 때)"
date: 2023-11-14
tags: [미지정]
---
문제상황

```java
@Getter
@ToString
public class AnnounceEssentialResponse {
    private String status;
    private String message;
    private List<Object> list;
}
```

이걸

```java
@Getter
@ToString
public class AnnounceEssentialResponse {
    private String status;
    private String message;
    private List<? extends EssentialResponseElement> list;
}
```

이렇게 타입 한정을 해서 안전하게 구현하고 싶음
문제는 저게 인스턴스라서 

```java
WebClient webClient = WebClient.builder().baseUrl(url)
                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_ATOM_XML_VALUE).build();
        Mono<AnnounceEssentialResponse> result = webClient.get().retrieve()
                .bodyToMono(AnnounceEssentialResponse.class);
        AnnounceEssentialResponse block = result.block();
        List<Object> list = block.getList();
```

여기서 Object 아니라 List<? extends EssentialResponseElement>로 받으면 에러남..
