---
title: "스테이징 DB 장애(용량 부족)"
date: 2024-10-12
tags:
  - 개발
  - 기술
category:
  - 실무경험
---
개발 관련 내용 정리.
### 문제 상황

개발을 하면서 스테이징 테스트를 하는데 갑자기 스테이징에 올라가있는 MSA 서비스 모두 다 다운되었다. 계속 오류를 토함, db 커넥션을 못 맺고 있는 상황.

### 원인

스테이징 EDB 용량이 다 차서 DB가 내려감 
스테이징이니 그럴 수 있는데 코메디는 
스테이징에 물려있던 공모주 메이트, 비상장 주식, 오늘의 생활시세, 리워드 지급 싹 다 안되었다
왜냐하면 물리적으로 같은 db라서.

### 리스크

운영에서는 스테이징 db 보다는 스펙이 좋고 안정적인 운영, 상황실 관제를 통해 용량이 부족해서 서비스가 내려가는 일은 99% 없을 것이라 확신한다(양천구 목동 KT IDC 센터가 폭격에 맞아도 DR센터가 있으니)
다만 하나의 DB에 MSA 클러스터를 올려놨다는것은 뭔가 구색만 맞춰놓은 느낌