---
title: "RFC6570"
date: 2025-08-25
tags: [미지정]
---
Openfeign 깃허브 테스트코드를 보다가 이런거 보임

### Openfeign에 관한 간략한 설명

Java/Kotlin 코드에서 Http 호출을 인터페이스로 추상화 가능

```java
@FeignClient(value = "listed-stock-web-service", url = "http://127.0.0.1:8088/listed-stock-web-service")
public interface ListedStockService {
    @GetMapping(path= "/v1/listedStock/{itemCodeNumber}")
    GetListedStockResponse getListedStock(@PathVariable("itemCodeNumber") String itemCodeNumber);
    @GetMapping(path="/v1/listedStock/latestPrice/{itemCodeNumber}")
    GetListedStockLatestPriceResponse getListedStockLatestPrice(@PathVariable("itemCodeNumber")String itemCodeNumber);
    @GetMapping(path="/v1/listedStock/outline/{itemCodeNumber}")
    GetListedStockOutlineResponse getListedStockOutline(@PathVariable("itemCodeNumber")String itemCodeNumber);
    @GetMapping(path = "/v1/listedStockPrices")
    GetListedStockPricesResponse getListedStockPrices(@SpringQueryMap GetListedStockPricesRequest request);
    @GetMapping(path= "/v1/listedStock/financial/ratio/{itemCodeNumber}")
    GetListedStockFinancialRatioResponse getListedStockFinancialRatio(@PathVariable("itemCodeNumber")String itemCodeNumber);
    @GetMapping(path= "/v1/listedStock/financial/statement/latest/{itemCodeNumber}")
    GetListedStockFinancialStatementResponse getListedStockFinancialStatement(@PathVariable("itemCodeNumber")String itemCodeNumber);
    @GetMapping(path="/v1/listedStock/summary/{itemCodeNumber}")
    GetListedStockSummaryResponse getListedStockSummary(@PathVariable("itemCodeNumber")String itemCodeNumber);
    @GetMapping(path="/v1/listedStock/financial/statement/past/{itemCodeNumber}/{targetFinancialStatement}")
    GetListedStockPastFinancialStatementsResponse getListedStockPastFinancialStatements(@PathVariable("itemCodeNumber") String itemCodeNumber
            , @PathVariable("targetFinancialStatement") String targetFinancialStatement);
}
```

위 함수 호출하면 HTTP 요청이 나감


```python
server. enqueue (new MockResponseO);
TestInterface api = new TestInterfaceBuilder(). target url: "http://Loca
Map<String, Object> queryMap = new LinkedHashMap<>©; queryMap.put("name", Arrays.asList("Netflix", "Bob"));
queryMap.put("netflix", "foo");
queryMap.put("emptyListKey", new ArrayList<>();
queryMap.put ("emptyStringKey", "'); // empty values are ignored. api. queryMap (queryMap) ;
assertThat (server.takeRequest)
•hasPath("/?name=Alice&name=Bob&fooKey=fooValue&emptyStringKey");
```


### ?name=Alice&name=Bob&fooKey=fooValue&emptyStringKey

emptyStringKey= 이어야할것같은데 저렇게 되어도 queryparameter 표준을 지키는거?

### 결론 : 맞음

[RFC 6570: URI Template | Guide books](https://dl.acm.org/doi/book/10.17487/RFC6570)

## 주요 원문 발췌

> A URI Template is a compact sequence of characters for describing a range of Uniform Resource Identifiers through variable expansion. This specification defines the URI Template syntax and the process for expanding a URI Template into a URI reference, along with guidelines for the use of URI Templates on the Internet. [STANDARDS-TRACK].

## 2. Syntax (구문)

> A URI Template is a string of printable Unicode characters that contains zero or more embedded variable expressions, each expression being delimited by a matching pair of braces ('{', '}').URI-Template = *( literals / expression )
> 2.2. ExpressionsTemplate expressions are the parameterized parts of a URI Template. Each expression contains an optional operator, which defines the expression type and its corresponding expansion process, followed by a comma-separated list of variable specifiers (variable names and optional value modifiers). If no operator is provided, the expression defaults to simple variable expansion of unreserved values.expression = "{" [ operator ] variable-list "}"operator = op-level2 / op-level3 / op-reserveop-level2 = "+" / "#"op-level3 = "." / "/" / ";" / "?" / "&"op-reserve = "=" / "," / "!" / "@" / "|"

## 3.2.8. Form-Style Query Expansion

> 3.2.8. Form-Style Query Expansion: { ?var }For each defined variable in [ 'query', 'number' ], substitute "?" if it is the first substitution or "&" thereafter, followed by the variable name, '=', and the variable's value.If the variables have the valuesquery := "mycelium"number := 100then the expansion of the above URI Template ishttp://www.example.com/foo?query=mycelium&number=100Alternatively, if 'query' is undefined, then the expansion would behttp://www.example.com/foo?number=100


### 정리

param=
  - param은 빈 문자열
param=null
  - param은 “null”
param
  - param은 null

### 결론

모르면 제발 검색해보자..
