---
title: "스트림"
date: 2023-08-19
tags: [미지정]
---
기존 컬랙션 자바의 문제점
멀티코어 프로세서를 온전히 활용하기 힘듬
명시적인 외부반복
스트림
파이프라이닝 지원 및 병렬 수행 지원
멀티스레드 코드를 구현하지 않아도 투명하게 병렬 처리 가능

![](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/08712730-bf83-4e6d-903a-917ce58ce907/Untitled.png)

중간에 병렬처리도 가능.
내부반복 지원
게으른 연산 지원


![](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/56ea6523-ecb1-438f-98a7-f480e2648c15/Untitled.png)


chunk 형식으로 병렬 작업 수행 가능

![](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e8db03e1-4a66-40c2-b9c5-d865941769d2/Untitled.png)

chunk 마다 스레드를 만들어 병렬 연산 처리 가능, but 스레드 생성 비용과 스레드풀 자원 고려 필요

[포크/조인]({% post_url 2023-08-19-포크조인 %})

로깅 예제

```java
List<Integer> numbers = Arrays.asList(2,3,4,5);
List<Integer> result = numbers.stream()
					.peek(x -> System.out.println("from stream : " + x))
					.map(x -> x + 17)
					.peek(x -> System.out.println("after map : " + x))
					.map(x -> x % 2 == 0)
					.peek(x -> System.out.println("after filter : " + x))
					.limit(3)
					.peek(x -> System.out.println("after limit : " + x))
					.collect(Collectors.toList());//마지막에 aggregate
```
