---
title: "게임 초기화"
date: 2025-11-14
tags: [미지정]
category:
  - 기타
---
핵심은 COUNTING > OPEN 하는 동안 고객이 안기어들어오는게 목표
20251114 채널에 공유할 선행조건: LatestGame 상태가 COUNTING이면 아무것도 하지 말고 그냥 집계중 화면 띄워야 함
1. 옛날 게임을 COUNTING > CLOSE로 만들어
  1. 와 시즌 1회면 어떡하지 옛날게임 없을텐데
2. 이번 주차 새로운 게임을 만들기 전
  1. gameStartDate ~ gameEndDate 사이 겹치는 게임이 있으면 throw
  2. gameStartDate 는 월요일  10시 00분 00초 gameEndDate는 월요일 09시 59분 59초
  3. 하지만 수동으로 입력하면 수동지정됨
3. 이번 주차 게임을 COUNTING 상태로 생성
  1. 하기전에 나중에 이번주가 3 휴장일 이상이면 NOT_OPEN 상태로 생성
4. 생성된거 저장
5. latestGameId를 가져와서(위에서 생성한) 종목 50개를 시총순으로 가져와서 뽑아
6. 뽑기작업이 성공했으면 latestGame을 COUNTING > OPEN으로 바꿔
